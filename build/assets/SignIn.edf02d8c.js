import{r as i,R as n,a,j as e,c as f}from"./index.5791bf1f.js";import{R as w,b as g}from"./globalVars.97df2e75.js";import{b as v}from"./background.8b6a8ddd.js";import N from"./installPrompt.36576cb2.js";function E(){const s=new w(g.pocketbaseDomain);i.exports.useEffect(()=>{s.authStore.isValid&&(window.location.href="/")},[]);const[d,c]=i.exports.useState(!1),[r,m]=n.useState({email:"",password:""}),[u,l]=n.useState(!1),o=t=>{m({...r,[t.target.id]:t.target.value})},h=t=>{t.preventDefault(),l(!0),r.email&&r.password&&x(r.email.toLowerCase(),r.password)};async function x(t,p){try{const b=await s.collection("users").authWithPassword(t,p);window.location.href="/"}catch{c(!0),l(!1)}}return a("div",{className:"w-screen h-screen overflow-hidden",children:[e(N,{}),e("img",{src:v,alt:"background",className:"bottom-1/2 absolute object-cover w-screen h-screen translate-y-1/2"}),e("div",{className:"flex justify-center items-center h-screen z-10 bg-[#0F252B] inner-shadow-main overflow-y-scroll touch",style:{boxShadow:"inset 0px 0px 200px 17px rgba(0,0,0,0.7)"},children:a("div",{className:"backdrop-blur-3xl bg-white/60 rounded-2xl p-6",style:{boxShadow:"inset 0px 0px 50px -2px rgba(255,255,255,.7),0px 12px 100px 22px rgba(0,0,0,1)"},children:[e("div",{className:"max-w-3xl px-8 pb-4 mx-auto text-center",children:e("h1",{className:"fancy text-3xl font-semibold text-black",children:"Welcome back."})}),a("div",{className:"max-w-sm mx-auto",children:[a("form",{onSubmit:h,children:[d?e("div",{className:"relative px-4 py-3 mt-5 mb-2 text-red-700 bg-red-100 border border-red-600 rounded",role:"alert",children:e("span",{className:"sm:inline block",children:"The email or password was incorrect."})}):null,e("div",{className:"flex flex-wrap mb-4 -mx-3",children:a("div",{className:"w-full px-3",children:[e("label",{className:"block mb-1 text-sm font-medium text-gray-800",htmlFor:"email",children:"Email"}),e("input",{value:r.email,onChange:o,name:"email",id:"email",type:"email",autoComplete:"email",className:"focus:border-none focus:outline-none border-hidden w-full p-3 text-gray-800 rounded-lg",placeholder:"Enter your email address",required:!0})]})}),e("div",{className:"flex flex-wrap mb-4 -mx-3",children:a("div",{className:"w-full px-3",children:[a("div",{className:"flex justify-between",children:[e("label",{className:"block mb-1 text-sm font-medium text-gray-800",htmlFor:"password",children:"Password"}),e("a",{href:"/reset-password",className:"hover:underline text-sm font-medium text-[#465943]",children:"Forgot your password?"})]}),e("input",{value:r.password,onChange:o,id:"password",type:"password",name:"password",autoComplete:"current-password",className:"focus:border-none focus:outline-none border-hidden w-full p-3 text-gray-800 rounded-lg",placeholder:"Enter your password",required:!0})]})}),e("div",{className:"flex flex-wrap mt-6 -mx-3",children:e("div",{className:"w-full px-3",children:u?e("button",{disabled:!0,className:"btn fancy rounded-full w-full text-black bg-[#465943] shadow-black/20 shadow-xl",children:e(f,{className:"rive-loader relative top-0",src:"/animations/loader.riv"})}):e("button",{type:"submit",className:"btn fancy rounded-full hover:bg-[#374635] w-full text-white bg-[#465943] shadow-black/20 shadow-xl",children:"Login"})})})]}),a("div",{className:"flex items-center justify-center gap-4 mt-6",children:[e("div",{className:"w-4/12 border-t-2 border-white","aria-hidden":"true"}),e("div",{className:"italic text-gray-900",children:"Or"}),e("div",{className:"w-4/12 border-t-2 border-white","aria-hidden":"true"})]}),a("div",{className:"mt-4 text-center text-gray-900",children:["Are you new? ",e("a",{href:"/signup",className:"hover:underline text-[#465943] transition duration-150 ease-in-out",children:"Register"})]})]})]})})]})}export{E as default};
